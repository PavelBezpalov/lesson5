!!!
%html
  %head
    %meta{:content => "text/html; charset=UTF-8", "http-equiv" => "Content-Type"}/
    %title RoR coding notes
    = stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track' => true
    = javascript_include_tag 'application', 'data-turbolinks-track' => true
    = csrf_meta_tags
  %body
    .navbar
      %nav
        %ul
          %li= link_to 'Home', root_path
          %li= link_to 'Popular', popular_posts_path
          %li= link_to 'Active', active_posts_path
          %li
            = form_tag action_name == 'popular' ? popular_posts_path : root_path, method: :get, class: 'search' do
              = search_field_tag :search, params[:search], placeholder: 'Search', value: params[:search]
              = submit_tag 'Search', name: nil
        %ul
          - if current_user
            %li
              = gravatar(current_user)
              = current_user.name
            %li= link_to 'New Post', new_post_path
            %li= link_to "Log Out", log_out_path
          - else
            %li= link_to "Sign Up", new_user_path
            %li= link_to "Log In", log_in_path
    .logo
      %h1 RoR coding notes
    .content
      = yield
    - flash.each do |type, message|
      = render partial: 'shared/status', locals: { message: message,
                                                   type: type }
    - if set_promo_banner?
      = render 'shared/promo'
